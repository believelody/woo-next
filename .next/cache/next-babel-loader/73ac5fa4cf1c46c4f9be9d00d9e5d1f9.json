{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport var createCart = function createCart(product, quantity, variationValue) {\n  var rawPrice = parseFloat(product.price.replace(\",\", \".\").substring(1));\n  var indexVariation = product.variations.nodes.findIndex(function (variation) {\n    return variation.attributes.nodes[0].value === variationValue;\n  });\n\n  if (indexVariation > -1) {\n    var newProduct = _objectSpread(_objectSpread({}, product), {}, {\n      variations: {\n        nodes: [product.variations.nodes[indexVariation]]\n      }\n    });\n\n    return [{\n      totalPrice: (quantity * rawPrice).toFixed(2),\n      quantity: quantity,\n      productVariation: newProduct\n    }];\n  }\n\n  return null;\n};\nexport var updateCart = function updateCart(cart, product, quantity, variationValue) {\n  var isProductMatch = cart.find(function (item) {\n    return item.productVariation === product.id;\n  });\n  console.log(isProductMatch);\n  var rawPrice = parseFloat(product.price.replace(\",\", \".\").substring(1));\n  var indexVariation = product.variations.nodes.findIndex(function (variation) {\n    return variation.attributes.nodes[0].value === variationValue;\n  });\n\n  if (indexVariation > -1) {\n    var newProduct = _objectSpread(_objectSpread({}, product), {}, {\n      variations: {\n        nodes: [product.variations.nodes[indexVariation]]\n      }\n    });\n\n    if (isProductMatch) {\n      return isProductMatch;\n    } else {\n      return [].concat(_toConsumableArray(cart), [{\n        quantity: quantity,\n        totalPrice: (quantity * rawPrice).toFixed(2),\n        productVariation: newProduct\n      }]);\n    }\n  }\n\n  return null;\n};","map":{"version":3,"sources":["/home/yamakasi/nextjs/woo-next/utils/cart.util.js"],"names":["createCart","product","quantity","variationValue","rawPrice","parseFloat","price","replace","substring","indexVariation","variations","nodes","findIndex","variation","attributes","value","newProduct","totalPrice","toFixed","productVariation","updateCart","cart","isProductMatch","find","item","id","console","log"],"mappings":";;;;;;;AAAA,OAAO,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD,EAAUC,QAAV,EAAoBC,cAApB,EAAuC;AAC7D,MAAIC,QAAQ,GAAGC,UAAU,CAACJ,OAAO,CAACK,KAAR,CAAcC,OAAd,CAAsB,GAAtB,EAA2B,GAA3B,EAAgCC,SAAhC,CAA0C,CAA1C,CAAD,CAAzB;AACA,MAAIC,cAAc,GAAGR,OAAO,CAACS,UAAR,CAAmBC,KAAnB,CAAyBC,SAAzB,CAAmC,UAAAC,SAAS;AAAA,WAAIA,SAAS,CAACC,UAAV,CAAqBH,KAArB,CAA2B,CAA3B,EAA8BI,KAA9B,KAAwCZ,cAA5C;AAAA,GAA5C,CAArB;;AACA,MAAIM,cAAc,GAAG,CAAC,CAAtB,EAAyB;AACrB,QAAIO,UAAU,mCACPf,OADO;AAEVS,MAAAA,UAAU,EAAE;AACRC,QAAAA,KAAK,EAAE,CAACV,OAAO,CAACS,UAAR,CAAmBC,KAAnB,CAAyBF,cAAzB,CAAD;AADC;AAFF,MAAd;;AAMA,WAAO,CACH;AACIQ,MAAAA,UAAU,EAAE,CAACf,QAAQ,GAAGE,QAAZ,EAAsBc,OAAtB,CAA8B,CAA9B,CADhB;AAEIhB,MAAAA,QAAQ,EAARA,QAFJ;AAGIiB,MAAAA,gBAAgB,EAAEH;AAHtB,KADG,CAAP;AAOH;;AACD,SAAO,IAAP;AACH,CAnBM;AAqBP,OAAO,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAOpB,OAAP,EAAgBC,QAAhB,EAA0BC,cAA1B,EAA6C;AACnE,MAAMmB,cAAc,GAAGD,IAAI,CAACE,IAAL,CAAU,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACL,gBAAL,KAA0BlB,OAAO,CAACwB,EAAtC;AAAA,GAAd,CAAvB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYL,cAAZ;AACA,MAAIlB,QAAQ,GAAGC,UAAU,CAACJ,OAAO,CAACK,KAAR,CAAcC,OAAd,CAAsB,GAAtB,EAA2B,GAA3B,EAAgCC,SAAhC,CAA0C,CAA1C,CAAD,CAAzB;AACA,MAAIC,cAAc,GAAGR,OAAO,CAACS,UAAR,CAAmBC,KAAnB,CAAyBC,SAAzB,CAAmC,UAAAC,SAAS;AAAA,WAAIA,SAAS,CAACC,UAAV,CAAqBH,KAArB,CAA2B,CAA3B,EAA8BI,KAA9B,KAAwCZ,cAA5C;AAAA,GAA5C,CAArB;;AACA,MAAIM,cAAc,GAAG,CAAC,CAAtB,EAAyB;AACrB,QAAIO,UAAU,mCACPf,OADO;AAEVS,MAAAA,UAAU,EAAE;AACRC,QAAAA,KAAK,EAAE,CAACV,OAAO,CAACS,UAAR,CAAmBC,KAAnB,CAAyBF,cAAzB,CAAD;AADC;AAFF,MAAd;;AAMA,QAAIa,cAAJ,EAAoB;AAChB,aAAOA,cAAP;AACH,KAFD,MAGK;AACD,0CACOD,IADP,IAEI;AACInB,QAAAA,QAAQ,EAARA,QADJ;AAEIe,QAAAA,UAAU,EAAE,CAACf,QAAQ,GAAGE,QAAZ,EAAsBc,OAAtB,CAA8B,CAA9B,CAFhB;AAGIC,QAAAA,gBAAgB,EAAEH;AAHtB,OAFJ;AAQH;AACJ;;AACD,SAAO,IAAP;AACH,CA3BM","sourcesContent":["export const createCart = (product, quantity, variationValue) => {\n    let rawPrice = parseFloat(product.price.replace(\",\", \".\").substring(1))\n    let indexVariation = product.variations.nodes.findIndex(variation => variation.attributes.nodes[0].value === variationValue)\n    if (indexVariation > -1) {\n        let newProduct = {\n            ...product,\n            variations: {\n                nodes: [product.variations.nodes[indexVariation]]\n            }\n        }\n        return [\n            {\n                totalPrice: (quantity * rawPrice).toFixed(2),\n                quantity,\n                productVariation: newProduct\n            }\n        ]\n    }\n    return null\n}\n\nexport const updateCart = (cart, product, quantity, variationValue) => {\n    const isProductMatch = cart.find(item => item.productVariation === product.id)\n    console.log(isProductMatch)\n    let rawPrice = parseFloat(product.price.replace(\",\", \".\").substring(1))\n    let indexVariation = product.variations.nodes.findIndex(variation => variation.attributes.nodes[0].value === variationValue)\n    if (indexVariation > -1) {\n        let newProduct = {\n            ...product,\n            variations: {\n                nodes: [product.variations.nodes[indexVariation]]\n            }\n        }\n        if (isProductMatch) {\n            return isProductMatch\n        }\n        else {\n            return [\n                ...cart,\n                {\n                    quantity,\n                    totalPrice: (quantity * rawPrice).toFixed(2),\n                    productVariation: newProduct\n                }\n            ]\n        }\n    }\n    return null\n}"]},"metadata":{},"sourceType":"module"}
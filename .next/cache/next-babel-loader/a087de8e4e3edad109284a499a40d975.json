{"ast":null,"code":"var _jsxFileName = \"/home/yamakasi/nextjs/woo-next/components/cart/AddToCartBtn.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { useContext } from \"react\";\nimport { AppContext } from \"../../context/AppContext\";\n\nconst AddToCartBtn = ({\n  product,\n  variationValue,\n  quantity\n}) => {\n  const {\n    0: cart,\n    1: setCart\n  } = useContext(AppContext);\n\n  const handleAddToCart = () => {\n    if (cart) {} else {\n      let rawPrice = +product.price.substring(1);\n      console.log(quantity);\n      console.log(rawPrice);\n      console.log(quantity * rawPrice);\n      let newCart = cart || [];\n      let indexVariation = product.variations.nodes.findIndex(variation => variation.attributes.nodes[0].value === variationValue);\n\n      if (indexVariation) {\n        let newProduct = _objectSpread(_objectSpread({}, product), {}, {\n          variations: {\n            nodes: [product.variations.nodes[indexVariation]]\n          }\n        });\n\n        newCart.push({\n          totalPrice: (quantity * +product.price).toFixed(2),\n          quantity,\n          productVariation: newProduct\n        });\n        setCart(newCart);\n      }\n    }\n  };\n\n  console.log(cart);\n  return __jsx(React.Fragment, null, __jsx(\"button\", {\n    disabled: !variationValue || quantity === 0,\n    className: `btn btn-${variationValue && quantity > 0 ? \"success\" : \"dark\"} w-100 block`,\n    onClick: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, \"ADD TO CART\"));\n};\n\nexport default AddToCartBtn;","map":{"version":3,"sources":["/home/yamakasi/nextjs/woo-next/components/cart/AddToCartBtn.js"],"names":["useContext","AppContext","AddToCartBtn","product","variationValue","quantity","cart","setCart","handleAddToCart","rawPrice","price","substring","console","log","newCart","indexVariation","variations","nodes","findIndex","variation","attributes","value","newProduct","push","totalPrice","toFixed","productVariation"],"mappings":";;;;;;;;;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,cAAX;AAA2BC,EAAAA;AAA3B,CAAD,KAA2C;AAC5D,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBP,UAAU,CAACC,UAAD,CAAlC;;AAEA,QAAMO,eAAe,GAAG,MAAM;AAC1B,QAAIF,IAAJ,EAAU,CAAE,CAAZ,MACK;AACD,UAAIG,QAAQ,GAAG,CAACN,OAAO,CAACO,KAAR,CAAcC,SAAd,CAAwB,CAAxB,CAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAZ;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,GAAGI,QAAvB;AACA,UAAIK,OAAO,GAAGR,IAAI,IAAI,EAAtB;AACA,UAAIS,cAAc,GAAGZ,OAAO,CAACa,UAAR,CAAmBC,KAAnB,CAAyBC,SAAzB,CAAmCC,SAAS,IAAIA,SAAS,CAACC,UAAV,CAAqBH,KAArB,CAA2B,CAA3B,EAA8BI,KAA9B,KAAwCjB,cAAxF,CAArB;;AACA,UAAIW,cAAJ,EAAoB;AAChB,YAAIO,UAAU,mCACPnB,OADO;AAEVa,UAAAA,UAAU,EAAE;AACRC,YAAAA,KAAK,EAAE,CAACd,OAAO,CAACa,UAAR,CAAmBC,KAAnB,CAAyBF,cAAzB,CAAD;AADC;AAFF,UAAd;;AAKAD,QAAAA,OAAO,CAACS,IAAR,CAAa;AACTC,UAAAA,UAAU,EAAE,CAACnB,QAAQ,GAAI,CAACF,OAAO,CAACO,KAAtB,EAA8Be,OAA9B,CAAsC,CAAtC,CADH;AAETpB,UAAAA,QAFS;AAGTqB,UAAAA,gBAAgB,EAAEJ;AAHT,SAAb;AAKAf,QAAAA,OAAO,CAACO,OAAD,CAAP;AACH;AACJ;AACJ,GAvBD;;AAyBAF,EAAAA,OAAO,CAACC,GAAR,CAAYP,IAAZ;AAEF,SACI,4BACE;AACI,IAAA,QAAQ,EAAE,CAACF,cAAD,IAAmBC,QAAQ,KAAK,CAD9C;AAEI,IAAA,SAAS,EAAG,WAAWD,cAAc,IAAIC,QAAQ,GAAG,CAA9B,GAAmC,SAAnC,GAA+C,MAAO,cAFhF;AAGI,IAAA,OAAO,EAAEG,eAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,CADJ;AAWD,CAzCD;;AA2CA,eAAeN,YAAf","sourcesContent":["import { useContext } from \"react\"\nimport { AppContext } from \"../../context/AppContext\"\n\nconst AddToCartBtn = ({ product, variationValue, quantity }) => {\n    const [cart, setCart] = useContext(AppContext)\n\n    const handleAddToCart = () => {\n        if (cart) {}\n        else {\n            let rawPrice = +product.price.substring(1)\n            console.log(quantity)\n            console.log(rawPrice)\n            console.log(quantity * rawPrice)\n            let newCart = cart || []\n            let indexVariation = product.variations.nodes.findIndex(variation => variation.attributes.nodes[0].value === variationValue)\n            if (indexVariation) {\n                let newProduct = {\n                    ...product,\n                    variations: {\n                        nodes: [product.variations.nodes[indexVariation]]\n                    }}\n                newCart.push({\n                    totalPrice: (quantity * (+product.price)).toFixed(2),\n                    quantity,\n                    productVariation: newProduct\n                })\n                setCart(newCart)\n            }\n        }\n    }\n\n    console.log(cart)\n\n  return (\n      <>\n        <button\n            disabled={!variationValue || quantity === 0}\n            className={`btn btn-${(variationValue && quantity > 0) ? \"success\" : \"dark\"} w-100 block`}\n            onClick={handleAddToCart}\n        >\n            ADD TO CART\n        </button>\n      </>\n  )\n}\n\nexport default AddToCartBtn"]},"metadata":{},"sourceType":"module"}
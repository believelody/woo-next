{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport Layout from '../components/layout/Layout';\nimport gql from \"graphql-tag\";\nimport fetch from \"isomorphic-unfetch\";\nimport clientConfig from '../client-config/config';\nimport Products from '../components/products/Products';\nimport \"../style.css\";\nimport client from '../apolloClient';\nconst PRODUCTS_QUERY = gql`query{\n  products(first: 20) {\n    nodes {\n      ... on VariableProduct {\n        name\n        price\n        productId\n        shortDescription\n        stockQuantity\n        id\n        image {\n          altText\n          sourceUrl\n        }\n      }\n    }\n  }\n}`;\n\nconst Index = ({\n  products\n}) => {\n  return __jsx(Layout, null, __jsx(Products, {\n    products: products\n  }));\n};\n\nIndex.getInitialProps = async () => {\n  // const res = await fetch(`${clientConfig.siteUrl}/products`)\n  // const products = await res.json()\n  const {\n    data: {\n      products\n    }\n  } = await client.query({\n    query: PRODUCTS_QUERY\n  });\n  console.log(products);\n  return {\n    products: products.nodes\n  };\n};\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}
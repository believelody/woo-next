{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/yamakasi/nextjs/woo-next/components/cart/CartItem.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect, useState } from 'react';\nimport { AppContext } from '../../context/AppContext';\nimport useCart from '../../hooks/useCart';\nimport { removeItemFromCart } from '../../utils/cart.util';\n\nvar CartItem = function CartItem(_ref) {\n  _s();\n\n  var item = _ref.item,\n      index = _ref.index,\n      cart = _ref.cart;\n  var fetchedCart = useCart(); // const [cart, setCart] = useContext(AppContext)\n\n  var _useState = useState(item.quantity || 0),\n      quantity = _useState[0],\n      setQuantity = _useState[1];\n\n  var _useState2 = useState(item.variation || \"\"),\n      variationValue = _useState2[0],\n      setVariationValue = _useState2[1];\n\n  var handleClick = function handleClick(index) {\n    // console.log(cart)\n    var updatedCart = removeItemFromCart(fetchedCart, index); // setCart(updatedCart)\n  };\n\n  useEffect(function () {\n    console.log(fetchedCart); // console.log(cart)\n    // if (fetchedCart && !cart) {\n    // setCart(fetchedCart)\n    // }\n  }, [localStorage]);\n  return __jsx(\"tr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, __jsx(\"th\", {\n    scope: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, __jsx(\"span\", {\n    className: \"badge badge-danger\",\n    onClick: function onClick() {\n      return handleClick(index);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, \"x\")), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, item.productVariation.name), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(\"select\", {\n    onChange: function onChange(e) {\n      return setVariationValue(e.target.value, index);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, __jsx(\"option\", {\n    value: \"\",\n    selected: !variationValue,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }), item.productVariation.variations.nodes.map(function (variation) {\n    return __jsx(\"option\", {\n      key: variation.attributes.nodes[0].value,\n      selected: variationValue === variation.attributes.nodes[0].value,\n      value: variation.attributes.nodes[0].value,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 25\n      }\n    }, variation.attributes.nodes[0].value);\n  }))), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(\"input\", {\n    type: \"number\",\n    value: quantity,\n    onChange: function onChange(e) {\n      return setQuantity(e.target.value >= 1 ? +e.target.value : 0);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }), __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"x \", item.productVariation.price)), __jsx(\"th\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, item.totalPrice));\n};\n\n_s(CartItem, \"rNvtyVLqaVv3BKtbpI0FHeUgvUI=\", false, function () {\n  return [useCart];\n});\n\n_c = CartItem;\nexport default CartItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartItem\");","map":{"version":3,"sources":["/home/yamakasi/nextjs/woo-next/components/cart/CartItem.js"],"names":["React","useContext","useEffect","useState","AppContext","useCart","removeItemFromCart","CartItem","item","index","cart","fetchedCart","quantity","setQuantity","variation","variationValue","setVariationValue","handleClick","updatedCart","console","log","localStorage","productVariation","name","e","target","value","variations","nodes","map","attributes","price","totalPrice"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\nimport { AppContext } from '../../context/AppContext'\nimport useCart from '../../hooks/useCart'\nimport { removeItemFromCart } from '../../utils/cart.util'\n\nconst CartItem = ({ item, index, cart }) => {\n    const fetchedCart = useCart()\n    // const [cart, setCart] = useContext(AppContext)\n    const [quantity, setQuantity] = useState(item.quantity || 0)\n    const [variationValue, setVariationValue] = useState(item.variation || \"\")\n\n    const handleClick = index => {\n        // console.log(cart)\n        const updatedCart = removeItemFromCart(fetchedCart, index)\n        // setCart(updatedCart)\n    }\n\n    useEffect(() => {\n        console.log(fetchedCart)\n        // console.log(cart)\n        // if (fetchedCart && !cart) {\n            // setCart(fetchedCart)\n        // }\n    }, [localStorage])\n\n\n  return (\n    <tr>\n        <th scope=\"row\">\n            <span\n                className=\"badge badge-danger\"\n                onClick={() => handleClick(index)}\n            >\n                x\n            </span>\n        </th>\n        <th>{item.productVariation.name}</th>\n        <th>\n            <select onChange={e => setVariationValue(e.target.value, index)}>\n                <option value=\"\" selected={!variationValue} />\n                {\n                    item.productVariation.variations.nodes.map(variation => (\n                        <option\n                            key={variation.attributes.nodes[0].value}\n                            selected={variationValue === variation.attributes.nodes[0].value}\n                            value={variation.attributes.nodes[0].value}>\n                            {variation.attributes.nodes[0].value}\n                        </option>\n                    ))\n                }\n            </select>\n        </th>\n        <th>\n            <input\n                type=\"number\"\n                value={quantity}\n                onChange={e => setQuantity(e.target.value >= 1 ? (+e.target.value) : 0)}\n            />\n            <span>x {item.productVariation.price}</span>\n        </th>\n        <th>{item.totalPrice}</th>\n    </tr>\n  )\n}\n\nexport default CartItem\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/yamakasi/nextjs/woo-next/components/cart/AddToCartBtn.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useAppHooks } from \"../../context/AppContext\";\nimport { createCart, productInCart, updateCartByIndex, updateCartWithNewProduct } from \"../../utils/cart.util\";\n\nconst AddToCartBtn = ({\n  product,\n  variationValue,\n  quantity,\n  setQuantity,\n  setVariationValue\n}) => {\n  const {\n    useCart: [cart, setCart],\n    useToast: [toast, setToast]\n  } = useAppHooks();\n\n  const updateBtnColor = () => {\n    if (variationValue && quantity > 0) {\n      return cart && productInCart(cart, product, variationValue) ? \"info\" : \"success\";\n    }\n\n    return \"dark\";\n  };\n\n  const handleAddToCart = () => {\n    if (cart) {\n      let updatedCart;\n      const indexProduct = productInCart(cart, product, variationValue);\n\n      if (indexProduct > -1) {\n        updatedCart = updateCartByIndex(cart, indexProduct, quantity, variationValue);\n        setToast({\n          title: \"Notification\",\n          body: `You successfully updated ${product.name} variation to ${variationValue}`,\n          role: \"success\"\n        });\n      } else {\n        updatedCart = updateCartWithNewProduct(cart, product, quantity, variationValue);\n        setToast({\n          title: \"Notification\",\n          body: `You successfully added ${product.name}-${variationValue} in your cart`,\n          role: \"success\"\n        });\n      }\n\n      setCart(updatedCart);\n    } else {\n      const newCart = createCart(product, quantity, variationValue);\n      setCart(newCart);\n      setToast({\n        title: \"Notification\",\n        body: `You successfully added ${product.name}-${variationValue} in your cart`,\n        role: \"success\"\n      });\n    }\n\n    setQuantity(0);\n    setVariationValue(\"\");\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"button\", {\n    disabled: !variationValue || quantity === 0,\n    className: `btn btn-${updateBtnColor()} w-100 block`,\n    onClick: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, cart && productInCart(cart, product, variationValue) ? \"UPDATE PRODUCT\" : \"ADD TO CART\"));\n};\n\nexport default AddToCartBtn;","map":{"version":3,"sources":["/home/yamakasi/nextjs/woo-next/components/cart/AddToCartBtn.js"],"names":["useAppHooks","createCart","productInCart","updateCartByIndex","updateCartWithNewProduct","AddToCartBtn","product","variationValue","quantity","setQuantity","setVariationValue","useCart","cart","setCart","useToast","toast","setToast","updateBtnColor","handleAddToCart","updatedCart","indexProduct","title","body","name","role","newCart"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,0BAA5B;AACA,SAASC,UAAT,EAAqBC,aAArB,EAAoCC,iBAApC,EAAuDC,wBAAvD,QAAuF,uBAAvF;;AAEA,MAAMC,YAAY,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,cAAX;AAA2BC,EAAAA,QAA3B;AAAqCC,EAAAA,WAArC;AAAkDC,EAAAA;AAAlD,CAAD,KAA2E;AAC5F,QAAM;AACFC,IAAAA,OAAO,EAAE,CAACC,IAAD,EAAOC,OAAP,CADP;AAEFC,IAAAA,QAAQ,EAAE,CAACC,KAAD,EAAQC,QAAR;AAFR,MAGFhB,WAAW,EAHf;;AAKA,QAAMiB,cAAc,GAAG,MAAM;AACzB,QAAIV,cAAc,IAAIC,QAAQ,GAAG,CAAjC,EAAoC;AAChC,aAAOI,IAAI,IAAIV,aAAa,CAACU,IAAD,EAAON,OAAP,EAAgBC,cAAhB,CAArB,GAAuD,MAAvD,GAAgE,SAAvE;AACH;;AACD,WAAO,MAAP;AACH,GALD;;AAOA,QAAMW,eAAe,GAAG,MAAM;AAC1B,QAAIN,IAAJ,EAAU;AACN,UAAIO,WAAJ;AACA,YAAMC,YAAY,GAAGlB,aAAa,CAACU,IAAD,EAAON,OAAP,EAAgBC,cAAhB,CAAlC;;AACA,UAAIa,YAAY,GAAG,CAAC,CAApB,EAAuB;AACnBD,QAAAA,WAAW,GAAGhB,iBAAiB,CAACS,IAAD,EAAOQ,YAAP,EAAqBZ,QAArB,EAA+BD,cAA/B,CAA/B;AACAS,QAAAA,QAAQ,CAAC;AACLK,UAAAA,KAAK,EAAE,cADF;AAELC,UAAAA,IAAI,EAAG,4BAA2BhB,OAAO,CAACiB,IAAK,iBAAgBhB,cAAe,EAFzE;AAGLiB,UAAAA,IAAI,EAAE;AAHD,SAAD,CAAR;AAKH,OAPD,MAQK;AACDL,QAAAA,WAAW,GAAGf,wBAAwB,CAACQ,IAAD,EAAON,OAAP,EAAgBE,QAAhB,EAA0BD,cAA1B,CAAtC;AACAS,QAAAA,QAAQ,CAAC;AACLK,UAAAA,KAAK,EAAE,cADF;AAELC,UAAAA,IAAI,EAAG,0BAAyBhB,OAAO,CAACiB,IAAK,IAAGhB,cAAe,eAF1D;AAGLiB,UAAAA,IAAI,EAAE;AAHD,SAAD,CAAR;AAKH;;AACDX,MAAAA,OAAO,CAACM,WAAD,CAAP;AACH,KApBD,MAqBK;AACD,YAAMM,OAAO,GAAGxB,UAAU,CAACK,OAAD,EAAUE,QAAV,EAAoBD,cAApB,CAA1B;AACAM,MAAAA,OAAO,CAACY,OAAD,CAAP;AACAT,MAAAA,QAAQ,CAAC;AACLK,QAAAA,KAAK,EAAE,cADF;AAELC,QAAAA,IAAI,EAAG,0BAAyBhB,OAAO,CAACiB,IAAK,IAAGhB,cAAe,eAF1D;AAGLiB,QAAAA,IAAI,EAAE;AAHD,OAAD,CAAR;AAKH;;AACDf,IAAAA,WAAW,CAAC,CAAD,CAAX;AACAC,IAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACH,GAjCD;;AAmCF,SACI,4BACE;AACI,IAAA,QAAQ,EAAE,CAACH,cAAD,IAAmBC,QAAQ,KAAK,CAD9C;AAEI,IAAA,SAAS,EAAG,WAAUS,cAAc,EAAG,cAF3C;AAGI,IAAA,OAAO,EAAEC,eAHb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKKN,IAAI,IAAIV,aAAa,CAACU,IAAD,EAAON,OAAP,EAAgBC,cAAhB,CAArB,GAAuD,gBAAvD,GAA0E,aAL/E,CADF,CADJ;AAWD,CA3DD;;AA6DA,eAAeF,YAAf","sourcesContent":["import { useAppHooks } from \"../../context/AppContext\"\nimport { createCart, productInCart, updateCartByIndex, updateCartWithNewProduct } from \"../../utils/cart.util\"\n\nconst AddToCartBtn = ({ product, variationValue, quantity, setQuantity, setVariationValue }) => {\n    const {\n        useCart: [cart, setCart],\n        useToast: [toast, setToast]\n    } = useAppHooks()\n\n    const updateBtnColor = () => {\n        if (variationValue && quantity > 0) {\n            return cart && productInCart(cart, product, variationValue) ? \"info\" : \"success\"\n        }\n        return \"dark\"\n    }\n\n    const handleAddToCart = () => {\n        if (cart) {\n            let updatedCart\n            const indexProduct = productInCart(cart, product, variationValue)\n            if (indexProduct > -1) {\n                updatedCart = updateCartByIndex(cart, indexProduct, quantity, variationValue)\n                setToast({\n                    title: \"Notification\",\n                    body: `You successfully updated ${product.name} variation to ${variationValue}`,\n                    role: \"success\"\n                })\n            }\n            else {\n                updatedCart = updateCartWithNewProduct(cart, product, quantity, variationValue)\n                setToast({\n                    title: \"Notification\",\n                    body: `You successfully added ${product.name}-${variationValue} in your cart`,\n                    role: \"success\"\n                })\n            }\n            setCart(updatedCart)\n        }\n        else {\n            const newCart = createCart(product, quantity, variationValue)\n            setCart(newCart)\n            setToast({\n                title: \"Notification\",\n                body: `You successfully added ${product.name}-${variationValue} in your cart`,\n                role: \"success\"\n            })\n        }\n        setQuantity(0)\n        setVariationValue(\"\")\n    }\n\n  return (\n      <>\n        <button\n            disabled={!variationValue || quantity === 0}\n            className={`btn btn-${updateBtnColor()} w-100 block`}\n            onClick={handleAddToCart}\n        >\n            {cart && productInCart(cart, product, variationValue) ? \"UPDATE PRODUCT\" : \"ADD TO CART\"}\n        </button>\n      </>\n  )\n}\n\nexport default AddToCartBtn"]},"metadata":{},"sourceType":"module"}